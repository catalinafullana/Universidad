
pr4.elf:     file format elf32-littleriscv
pr4.elf
architecture: riscv:rv32, flags 0x00000112:
EXEC_P, HAS_SYMS, D_PAGED
start address 0x0000012c

Program Header:
    LOAD off    0x00001000 vaddr 0x00000000 paddr 0x00000000 align 2**12
         filesz 0x000001a0 memsz 0x000001a0 flags r-x
    LOAD off    0x00002000 vaddr 0x00010000 paddr 0x00010000 align 2**12
         filesz 0x00000028 memsz 0x00000029 flags rw-

Sections:
Idx Name              Size      VMA       LMA       File off  Algn  Flags
  0 .text             00000050  00000000  00000000  00001000  2**2  CONTENTS, ALLOC, LOAD, READONLY, CODE
  1 .text.mul         00000084  00000050  00000050  00001050  2**2  CONTENTS, ALLOC, LOAD, READONLY, CODE
  2 .text.i_sqrt      00000058  000000d4  000000d4  000010d4  2**2  CONTENTS, ALLOC, LOAD, READONLY, CODE
  3 .text.main        00000074  0000012c  0000012c  0000112c  2**2  CONTENTS, ALLOC, LOAD, READONLY, CODE
  4 .data.U           00000014  00010000  00010000  00002000  2**2  CONTENTS, ALLOC, LOAD, DATA
  5 .data.V           00000014  00010014  00010014  00002014  2**2  CONTENTS, ALLOC, LOAD, DATA
  6 .sbss.mayor_u     00000001  00010028  00010028  00002028  2**0  ALLOC
  7 .riscv.attributes 00000021  00000000  00000000  00002028  2**0  CONTENTS, READONLY
  8 .comment          00000012  00000000  00000000  00002049  2**0  CONTENTS, READONLY
  9 .debug_line       000001e9  00000000  00000000  0000205b  2**0  CONTENTS, READONLY, DEBUGGING, OCTETS
 10 .debug_info       00000171  00000000  00000000  00002244  2**0  CONTENTS, READONLY, DEBUGGING, OCTETS
 11 .debug_abbrev     00000100  00000000  00000000  000023b5  2**0  CONTENTS, READONLY, DEBUGGING, OCTETS
 12 .debug_aranges    00000050  00000000  00000000  000024b8  2**3  CONTENTS, READONLY, DEBUGGING, OCTETS
 13 .debug_str        00002422  00000000  00000000  00002508  2**0  CONTENTS, READONLY, DEBUGGING, OCTETS
 14 .debug_ranges     00000020  00000000  00000000  0000492a  2**0  CONTENTS, READONLY, DEBUGGING, OCTETS
 15 .debug_macro      000006ff  00000000  00000000  0000494a  2**0  CONTENTS, READONLY, DEBUGGING, OCTETS
 16 .debug_frame      00000084  00000000  00000000  0000504c  2**2  CONTENTS, READONLY, DEBUGGING, OCTETS
SYMBOL TABLE:
00000000 l    d  .text	00000000 .text
00000050 l    d  .text.mul	00000000 .text.mul
000000d4 l    d  .text.i_sqrt	00000000 .text.i_sqrt
0000012c l    d  .text.main	00000000 .text.main
00010000 l    d  .data.U	00000000 .data.U
00010014 l    d  .data.V	00000000 .data.V
00010028 l    d  .sbss.mayor_u	00000000 .sbss.mayor_u
00000000 l    d  .riscv.attributes	00000000 .riscv.attributes
00000000 l    d  .comment	00000000 .comment
00000000 l    d  .debug_line	00000000 .debug_line
00000000 l    d  .debug_info	00000000 .debug_info
00000000 l    d  .debug_abbrev	00000000 .debug_abbrev
00000000 l    d  .debug_aranges	00000000 .debug_aranges
00000000 l    d  .debug_str	00000000 .debug_str
00000000 l    d  .debug_ranges	00000000 .debug_ranges
00000000 l    d  .debug_macro	00000000 .debug_macro
00000000 l    d  .debug_frame	00000000 .debug_frame
00000000 l    df *ABS*	00000000 ./fun_asm.o
00000014 l       .text	00000000 for
00000040 l       .text	00000000 efor
00000000 l    df *ABS*	00000000 pr4.c
00000000 g       .text	00000000 eucl_dist
000000d4 g     F .text.i_sqrt	00000058 i_sqrt
00010014 g     O .data.V	00000014 V
00000050 g     F .text.mul	00000084 mul
0000012c g     F .text.main	00000074 main
00010028 g     O .sbss.mayor_u	00000001 mayor_u
00010000 g     O .data.U	00000014 U
0000004c g       .text	00000000 guardar



Disassembly of section .text:

00000000 <eucl_dist>:
eucl_dist():
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../fun_asm.asm:27

//int eucl_dist(int * w, int size);
eucl_dist:
	//recibo dirección de W en a0, y tamaño N en a1

	li a2, 0	//i=0
   0:	00000613          	li	a2,0
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../fun_asm.asm:28
	li a3, 0	//a3=mul
   4:	00000693          	li	a3,0
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../fun_asm.asm:31
	//poner direccion de W (a0) a otra a
	//poner  en a0
	mv a4, a0		// a4 es dir W
   8:	00050713          	mv	a4,a0
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../fun_asm.asm:32
	mv a5, a1		// a5 es N
   c:	00058793          	mv	a5,a1
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../fun_asm.asm:33
	li t3, 0
  10:	00000e13          	li	t3,0

00000014 <for>:
for():
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../fun_asm.asm:36

	for:
		bge a2, a5, efor
  14:	02f65663          	bge	a2,a5,40 <efor>
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../fun_asm.asm:37
		mv a0, t3
  18:	000e0513          	mv	a0,t3
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../fun_asm.asm:38
		slli t2, t2, 2	//
  1c:	00239393          	slli	t2,t2,0x2
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../fun_asm.asm:39
		add t2, t2, a4	//
  20:	00e383b3          	add	t2,t2,a4
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../fun_asm.asm:40
		lw 	a0, 0(t2)	//a0=w[i]
  24:	0003a503          	lw	a0,0(t2)
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../fun_asm.asm:41
		mv t3, a0
  28:	00050e13          	mv	t3,a0
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../fun_asm.asm:42
		mv a1, a0		//a1 tiene que coger el valor de a0	//a1=N
  2c:	00050593          	mv	a1,a0
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../fun_asm.asm:44

		call mul		//a0 =mul
  30:	020000ef          	jal	ra,50 <mul>
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../fun_asm.asm:46

		add a3, a3, a0  //acc+=mul(w(i), w(i))
  34:	00a686b3          	add	a3,a3,a0
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../fun_asm.asm:47
		addi a2, a2, 1	// i++
  38:	00160613          	addi	a2,a2,1
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../fun_asm.asm:48
		j for
  3c:	fd9ff06f          	j	14 <for>

00000040 <efor>:
efor():
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../fun_asm.asm:51
	efor:
		//colocar acc en a0
		mv a0, a3
  40:	00068513          	mv	a0,a3
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../fun_asm.asm:52
		call i_sqrt//llamar a i_sqrt(acc) con un call
  44:	090000ef          	jal	ra,d4 <i_sqrt>
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../fun_asm.asm:53
		ret
  48:	00008067          	ret

0000004c <guardar>:
guardar():
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../fun_asm.asm:58

//int guardar(char valor, char * ubicacion);
guardar:
    //recibo el valor en a0, y la dirección destino en a1
    mv a1, a0	//a1=a0
  4c:	00050593          	mv	a1,a0

Disassembly of section .text.mul:

00000050 <mul>:
mul():
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:35
}
*/
/**
 * Función simple que multiplica dos números iterativamente
 */
int mul(int a, int b) {
  50:	fd010113          	addi	sp,sp,-48
  54:	02812623          	sw	s0,44(sp)
  58:	03010413          	addi	s0,sp,48
  5c:	fca42e23          	sw	a0,-36(s0)
  60:	fcb42c23          	sw	a1,-40(s0)
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:36
	int res = 0, sign = 0;
  64:	fe042623          	sw	zero,-20(s0)
  68:	fe042423          	sw	zero,-24(s0)
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:37
	if (a < 0) {
  6c:	fdc42783          	lw	a5,-36(s0)
  70:	0207d663          	bgez	a5,9c <mul+0x4c>
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:38
		sign = 1;
  74:	00100793          	li	a5,1
  78:	fef42423          	sw	a5,-24(s0)
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:39
		a = -a;
  7c:	fdc42783          	lw	a5,-36(s0)
  80:	40f007b3          	neg	a5,a5
  84:	fcf42e23          	sw	a5,-36(s0)
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:41
	}
	while (a--) res += b;
  88:	0140006f          	j	9c <mul+0x4c>
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:41 (discriminator 2)
  8c:	fec42703          	lw	a4,-20(s0)
  90:	fd842783          	lw	a5,-40(s0)
  94:	00f707b3          	add	a5,a4,a5
  98:	fef42623          	sw	a5,-20(s0)
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:41 (discriminator 1)
  9c:	fdc42783          	lw	a5,-36(s0)
  a0:	fff78713          	addi	a4,a5,-1
  a4:	fce42e23          	sw	a4,-36(s0)
  a8:	fe0792e3          	bnez	a5,8c <mul+0x3c>
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:42
	if (sign)
  ac:	fe842783          	lw	a5,-24(s0)
  b0:	00078863          	beqz	a5,c0 <mul+0x70>
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:43
		return -res;
  b4:	fec42783          	lw	a5,-20(s0)
  b8:	40f007b3          	neg	a5,a5
  bc:	0080006f          	j	c4 <mul+0x74>
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:45
	else
		return res;
  c0:	fec42783          	lw	a5,-20(s0)
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:46
}
  c4:	00078513          	mv	a0,a5
  c8:	02c12403          	lw	s0,44(sp)
  cc:	03010113          	addi	sp,sp,48
  d0:	00008067          	ret

Disassembly of section .text.i_sqrt:

000000d4 <i_sqrt>:
i_sqrt():
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:53
extern void guardar(char valor, char * ubicación);
/**
 * Función simple que obtiene la raíz cuadrada iterativamente
 */

int i_sqrt(int a) {
  d4:	fd010113          	addi	sp,sp,-48
  d8:	02112623          	sw	ra,44(sp)
  dc:	02812423          	sw	s0,40(sp)
  e0:	03010413          	addi	s0,sp,48
  e4:	fca42e23          	sw	a0,-36(s0)
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:54
	int root = 0;
  e8:	fe042623          	sw	zero,-20(s0)
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:55
	while (mul(root, root) < a) {
  ec:	0100006f          	j	fc <i_sqrt+0x28>
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:56
		root++;
  f0:	fec42783          	lw	a5,-20(s0)
  f4:	00178793          	addi	a5,a5,1
  f8:	fef42623          	sw	a5,-20(s0)
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:55
	while (mul(root, root) < a) {
  fc:	fec42583          	lw	a1,-20(s0)
 100:	fec42503          	lw	a0,-20(s0)
 104:	f4dff0ef          	jal	ra,50 <mul>
 108:	00050713          	mv	a4,a0
 10c:	fdc42783          	lw	a5,-36(s0)
 110:	fef740e3          	blt	a4,a5,f0 <i_sqrt+0x1c>
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:58
	}
	return root;
 114:	fec42783          	lw	a5,-20(s0)
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:59
}
 118:	00078513          	mv	a0,a5
 11c:	02c12083          	lw	ra,44(sp)
 120:	02812403          	lw	s0,40(sp)
 124:	03010113          	addi	sp,sp,48
 128:	00008067          	ret

Disassembly of section .text.main:

0000012c <main>:
main():
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:76
}
*/
/**
 * Punto de entrada al programa
 */
void main() {
 12c:	fe010113          	addi	sp,sp,-32
 130:	00112e23          	sw	ra,28(sp)
 134:	00812c23          	sw	s0,24(sp)
 138:	02010413          	addi	s0,sp,32
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:78
	//calculamos la distancia euclídea al origen
	int d_u = eucl_dist(U, N);
 13c:	00500593          	li	a1,5
 140:	000107b7          	lui	a5,0x10
 144:	00078513          	mv	a0,a5
 148:	eb9ff0ef          	jal	ra,0 <eucl_dist>
 14c:	fea42623          	sw	a0,-20(s0)
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:79
	int d_v = eucl_dist(V, N);
 150:	00500593          	li	a1,5
 154:	000107b7          	lui	a5,0x10
 158:	01478513          	addi	a0,a5,20 # 10014 <V>
 15c:	ea5ff0ef          	jal	ra,0 <eucl_dist>
 160:	fea42423          	sw	a0,-24(s0)
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:81
	//vemos si U estaba más lejos
	char mayor = d_u > d_v;
 164:	fec42703          	lw	a4,-20(s0)
 168:	fe842783          	lw	a5,-24(s0)
 16c:	00e7a7b3          	slt	a5,a5,a4
 170:	0ff7f793          	andi	a5,a5,255
 174:	fef403a3          	sb	a5,-25(s0)
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:82
	guardar(mayor, &mayor_u);
 178:	fe740703          	lb	a4,-25(s0)
 17c:	000107b7          	lui	a5,0x10
 180:	02878593          	addi	a1,a5,40 # 10028 <mayor_u>
 184:	00070513          	mv	a0,a4
 188:	ec5ff0ef          	jal	ra,4c <guardar>
C:\Users\Catalina\Documents\Universidad\1-2\FC2\Ensamblador\FC2practicasWS\pr4\Debug/../pr4.c:83
}
 18c:	00000013          	nop
 190:	01c12083          	lw	ra,28(sp)
 194:	01812403          	lw	s0,24(sp)
 198:	02010113          	addi	sp,sp,32
 19c:	00008067          	ret
