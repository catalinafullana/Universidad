/*---------------------------------------------------------------------
**
**  Fichero:
**    pr2_b.asm  19/10/2022
**
**    (c) Daniel Báscones García
**    Fundamentos de Computadores II
**    Facultad de Informática. Universidad Complutense de Madrid
**
**  Propósito:
**    Fichero de código para la práctica 2b
**
**  Notas de diseño:
**
**	# define N 8
**	# define INT_MAX 2147483647
**	int V [ N ] = { -7 ,3 , -9 ,8 ,15 , -16 ,0 ,3};
**	int W [ N ];
**	int min , index ;
**	for ( j = 0; j < N ; j ++) {
**		min = INT_MAX ;
**		for ( i = 0; i < N ; i ++) {
**			if ( V [ i ] < min ) {
**				min = V [ i ];
**				index = i ;
**			}
**		}
**		W [ j ] = V [ index ];
**		V [ index ] = INT_MAX ;
**	}
**
**-------------------------------------------------------------------*/

.global main
.equ N , 8
.equ INT_MAX , 2147483647

.data
V: 	 .word -7 ,3 , -9 ,8 ,15 , -16 ,0 ,3
.bss
W: 	 .space N *4
min: .space 4
ind: .space 4

.text
main:

	li t1, N			//t1=N´
	la s6, ind			//s6=ind=0
	li s6, 0
	la s5, min
	li s5, 0			//min=s5=0
	li t0, INT_MAX		//t0=INT_MAX
	li t2, 0			//t2=i
	li t4, 0			//t4=j
	la t3, V
	la t6, W

for:
	bge t2, t1, fin_for		//si cc, saltar
	slli t5, t2, 2			//desplazamiento
	add t5, t5, t3			//t5=t5+t3
	lw  s3, 0(t5)     		// @s1=v[i]

if:
	ble s5, s3, fin_if
	mv s5,s3

fin_if:
	addi t2, t2, 1 			//incrementar indice
	j for

fin_for:
	la s3, min
	la s5, min

	j end
end:
	j .
	.end
