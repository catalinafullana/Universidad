/*---------------------------------------------------------------------
**
**  Fichero:
**    pr2_b.asm  19/10/2022
**
**    (c) Daniel Báscones García
**    Fundamentos de Computadores II
**    Facultad de Informática. Universidad Complutense de Madrid
**
**  Propósito:
**    Fichero de código para la práctica 2b
**
**  Notas de diseño:
**
**	int mul(int a, int b) {
**	    int res = 0;
**	    while (b > 0) {
**	        res += a;
**	        b--;
**	    }
**	    return res;
**	}
**
**	int dotprod(int[] V, int[] W, int n) {
**	    int acc = 0;
**	    for (int i = 0; i < n; i++) {
**	        acc += mul(V[i], W[i]);
**	    }
**	    return acc;
**	}
**
**	#define N 4
**	int[] A = {3, 5, 1, 9}
**	int[] B = {1, 6, 2, 3}
**
**	int res;
**
**	void main() {
**	    int normA = dotprod(A, A, N);
**	    int normB = dotprod(B, B, N);
**	    if (normA > normB)
**	        res = 0xa;
**	    else
**	        res = 0xb;
**	}
**
**-------------------------------------------------------------------*/

.equ N, 4

.data
A:	.word 3, 5, 1, 9
B:	.word 1, 6, 2, 3

.bss
res:.space 4

.text
.global main
main:
	la a0, A
	la a1, A
	li a2, N
	call dotprod
	mv s0, a0
	la a0, B
	la a1, B
	li a2, N
	call dotprod
	mv s1, a0
	ble s0, s1, m_else
	la a0, res
	m_if:
		li a1, 0xa
		j m_endif
	m_else:
		li a1, 0xb
	m_endif:
		sw a1, 0(a0)
	end:
	j end












