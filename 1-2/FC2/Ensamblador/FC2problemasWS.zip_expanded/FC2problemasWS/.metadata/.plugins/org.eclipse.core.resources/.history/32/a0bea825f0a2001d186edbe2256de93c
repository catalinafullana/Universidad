/*---------------------------------------------------------------------
**
**  Fichero:
**    ej25.asm  19/10/2022
**
**    Fundamentos de Computadores II
**    Facultad de Inform치tica. Universidad Complutense de Madrid
**
**  Prop칩sito:
**    Fichero de c칩digo para el ejercicio 25
**
**-------------------------------------------------------------------*/

.global main
.extern _stack
.equ n,6
.equ cc,45
.data
V: .word 3,5,5,7,10,15
.bss
noeliano : .space 4
.text
main :
    la sp,_stack
    la a0,V
    li a1,n
    call Sum45
    mv s0,a0    # s0 resultado de la suma45
    addi s3,zero,1  # s3 = 1
    bne s0,s3,falso # no cumple la condici칩n suma =45
    la t0,V         # t0 =@V
    li t3,n-1   # t3=n-1 (n-1 comparaciones creciente)
    mv t1,zero  # t1=i=0
do:
    slli t2,t1,2    # i *4
    add t2,t2,t0    # t2 = @i
    lw s4,0(t2)
    lw s5,4(t2)
    bgt s4,s5,falso # no cumple y salta
    addi s3,zero,1  # noeliano = true
    la t4,noeliano
    sw s3,0(t4)
    addi t1,t1,1    # i++
    blt t1,t3,do    # i<n
    j fin
falso :
    la t1,noeliano
    sw zero,0(t1)
fin:
    j .
