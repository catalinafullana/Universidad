/*---------------------------------------------------------------------
**
**  Fichero:
**    ej24.asm  19/10/2022
**
**    Fundamentos de Computadores II
**    Facultad de Informática. Universidad Complutense de Madrid
**
**  Propósito:
**    Fichero de código para el ejercicio 24
**
**-------------------------------------------------------------------*/

 .global main
.extern _stack
.equ n,6
.data
V:      .word 2,1,10,2,2,3
.bss
melcho: .space 4
.text
main:
    la   sp,_stack
    mv   fp,zero
    la   a0,V
    li   a1,n
    call sumavector
    mv   s1,a0    #s1 contiene el sumatorio del vector
    la   t1,V     #s1=@V
    mv   t2,zero  #t2=i
    li   t3,n
do:
    slli t3,t2,2
    add  t3,t3,t1
    lw   s2,0(t3)
    slli s2,s2,1
    beq  s2,s1,meltrue
    addi t2,t2,1        #i++
    bge  t2,t3, fin
    j    do
meltrue:
    addi s1,zero,1
    la   t1,melcho
    sw   s1, 0(t1)
fin:
    j .
